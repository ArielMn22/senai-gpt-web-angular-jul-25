<div class="container">

    <!-- Cabeçalho -->
    <aside class="left-panel">

        <div class="top">

            <button class="btn-new-chat" (click)="novoChat()">+ New chat</button>

            @for (chat of chats; track $index) {

                <button class="btn-chat" (click)="onChatClick(chat)">
                    <i class="fa-regular fa-message"></i>
                    {{ chat.chatTitle }}
                </button>

            }

        </div>

        <div class="bottom">

            <!-- <button class="btn-chat">
                <i class="fa-solid fa-trash-can"></i>
                Clear conversations
            </button>

            <button class="btn-chat">
                <i class="fa-solid fa-trash-can"></i>
                Light mode
            </button>

            <button class="btn-chat">
                <i class="fa-solid fa-trash-can"></i>
                My account
            </button>

            <button class="btn-chat">
                <i class="fa-solid fa-trash-can"></i>
                Updates & FAQ
            </button> -->

            @if (chatSelecionado != null) {

                <button class="btn-chat" (click)="deletarChatSelecionado()">
                    <i class="fa-solid fa-trash-can"></i>
                    Deletar chat {{ chatSelecionado.chatTitle }}
                </button>

            }
            
            <button class="btn-chat" (click)="deslogar()">
                <i class="fa-solid fa-trash-can"></i>
                Deslogar
            </button>
            
        </div>

    </aside>

    <!-- Conteúdo principal do site -->
    <main class="central-panel">

        @if (chatSelecionado == null) {

            <div class="logo"></div>
    
            <div class="dicas-container">
    
                <div class="dicas-item">
    
                    <h2>
                        <i class="fa-regular fa-comments"></i>
                        Examples
                    </h2>
    
                    <p>"Explain quantum computing insimple terms"</p>
                    <p>"Explain quantum computing insimple terms"</p>
                    <p>"Explain quantum computing insimple terms"</p>
    
                </div>
    
                <div class="dicas-item">
    
                    <h2>
                        <i class="fa-regular fa-comments"></i>
                        Capabilities
                    </h2>
    
                    <p>"Explain quantum computing insimple terms"</p>
                    <p>"Explain quantum computing insimple terms"</p>
                    <p>"Explain quantum computing insimple terms"</p>
    
                </div>
    
                <div class="dicas-item">
    
                    <h2>
                        <i class="fa-regular fa-comments"></i>
                        Limitations
                    </h2>
    
                    <p>"Explain quantum computing insimple terms"</p>
                    <p>"Explain quantum computing insimple terms"</p>
                    <p>"Explain quantum computing insimple terms"</p>
    
                </div>
    
            </div>

        }

        @if (chatSelecionado != null) {
            <!-- Só vai ser executado quando o usuário tiver clicado em um chat -->

            <div class="chat-container">

                <div class="chat-header">

                    <h2>{{ chatSelecionado.chatTitle }}</h2>
                
                </div>

                <div class="chat-messages">

                    @for (msg of mensagens; track $index) {

                        <p class="message-item" [class.chatbot]="msg.userId == 'chatbot'">{{ msg.text }}</p>

                    }

                </div>

            </div>

            <div class="input-container">

                <i class="fa-solid fa-microphone"></i>

                <i class="fa-solid fa-image"></i>

                <input [formControl]="mensagemUsuario" type="text" placeholder="Type message">

                <i class="send-button fa-solid fa-paper-plane" (click)="enviarMensagem()"></i>

            </div>

        }

    </main>

</div>